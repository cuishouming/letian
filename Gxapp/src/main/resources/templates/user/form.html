<div class="row-content am-cf">
	<div class="container">
		<div class="row">
			<div class=".col-md-4">新增用户</div>
		</div>
		<div>&nbsp;</div>
		<div class="col-sm-12" style="border-bottom: 1px solid #999;"></div>
		<div>&nbsp;</div>
	</div>
	<div class="container">
		<div class="row">
			<form class="form-horizontal" id="userForm">
				<div class="form-group">
					<label for="dept" class="col-sm-2 control-label">所属部门 Dept</label>
					<div class="col-sm-10">
						<div class="input-group col-sm-4x" style="float:left">
							<input type="search" class="form-control" id="deptName"
								name="deptName" placeholder="Dept">
						</div>
						<span class="input-group-btn">
							<button class="am-btn am-btn-default" id="menuBtn" type="button">
								<span class="am-icon-search"></span>
							</button>
						</span>
					</div>
				</div>
				<div class="form-group">
					<label for="account" class="col-sm-2 control-label">账号
						Account</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" id="accountName"
							name="accountName" placeholder="AccountName">
					</div>
				</div>
				<div class="form-group">
					<label for="password" class="col-sm-2 control-label">密码
						PassWord</label>
					<div class="col-sm-6">
						<input type="password" class="form-control" name="password"
							id="password" placeholder="PassWord">
					</div>
				</div>
				<div class="form-group">
					<label for="repassword" class="col-sm-2 control-label">确认密码
						RePassWord</label>
					<div class="col-sm-6">
						<input type="password" class="form-control" id="repassword"
							name="repassword" placeholder="RePassWord">
					</div>
				</div>
				<div class="form-group">
					<label for="userName" class="col-sm-2 control-label">姓名
						Name</label>
					<div class="col-sm-6">
						<input type="text" class="form-control" name="userName"
							id="userName" placeholder="Name">
					</div>
				</div>
				<div class="form-group">
					<label for="role" class="col-sm-2 control-label">所属角色 Role</label>
					<div class="col-sm-8">
						<select id="role" class="form-control" name="role">
							<option th:each="role : ${roles}" th:value="${role.id}"
								th:text="${role.rolename}"></option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="description" class="col-sm-2 control-label">用户描述
						Desc</label>
					<div class="col-sm-8">
						<input type="text" id="description" name="description"
							class="form-control" id="inputEmail3" placeholder="Desc">
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-2"></div>
					<div class="col-sm-8">
						<button type="button"
							onclick="javascript:$('#userForm').submit();"
							class=" btn btn-primary">提交</button>
						<button type="button" onclick="loadPage('user/listUI')"
							class="btn btn-success ">返回</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>
<script type="text/javascript">
	openDeptTree();
	validateUserForm();
	function validateUserForm() {
		$('#userForm').validate({
			rules : {
				deptName : {
					required : true,
				},
				accountName : {
					required : true,
				//remote:"user/checkAccount"
				},
				password : {
					required : true,
					maxlength : 6
				},
				repassword : {
					required : true,
					maxlength : 6,
					equalTo : "#password"
				},
				userName:{
					required : true,
				},
				role : {
					required : true
				},
				description : {
					required : true,
					maxlength : 100
				}
			},
			messages : {
				deptName : {
					required : "请选择所属部门信息",
				},
				accountName : {
					required : "请输入添加的账户信息",
				},
				password : {
					required : "请输入密码",
					maxlength : "密码长度不能超过6位"
				},
				repassword : {
					required : "请输入确认密码",
					maxlength : "确认密码长度不能超过6位",
					equalTo : "确认密码和密码不相同"
				},
				userName:{
					required:"请输入姓名"
				},
				role : {
					required : "请选择角色信息"
				},
				description : {
					required : "请输入描述信息",
					maxlength : "最大长度不能超过100位"
				}
			},
			/* 
			 //错误提示的样式
			errorElement : "em",
			errorPlacement : function(error, element) {
				// Add the `help-block` class to the error element
				error.addClass("help-block");
				error.css("font-size", "18px");
				if (element.prop("type") === "checkbox") {
					error.insertAfter(element.parent("label"));
				} else {
					error.insertAfter(element);
				}
			},
			highlight : function(element, errorClass, validClass) {
				var md9 = $(element).parent(".col-md-9");
				if (md9.length > 0) {
					md9.addClass("has-error").removeClass("has-success");
				} else {
					$(element).parent(".col-md-5").addClass("has-error").removeClass("has-success");
					;
				}

			},
			unhighlight : function(element, errorClass, validClass) {
				var md9 = $(element).parent(".col-md-9");
				if (md9.length > 0) {
					md9.addClass("has-success").removeClass("has-error");
				} else {
					$(element).parent(".col-md-5").addClass("has-success").removeClass("has-error");
				}
			}, */
			submitHandler : function(form) {
				commit('userForm', 'user/save', 'user/listUI');
			}
		})
	}
</script>